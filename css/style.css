/* Core layout */
:root{
  --bg:#0b1713; --panel:#0e1f18; --accent:#22c55e; --accent2:#16a34a; --yellow:#eab308; --red:#ef4444;
  --text:#e8f6ee; --muted:#bfe8d4;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Arial}
.header{max-width:1300px;margin:0 auto;padding:16px 14px;position:relative}

.update-controls{position:absolute;top:20px;right:20px;display:flex;flex-direction:column;align-items:flex-end;gap:8px}

.update-btn{background:linear-gradient(135deg,#00ff88 0%,#00cc6a 100%);color:#1a1a1a;border:none;padding:8px 16px;border-radius:20px;font-weight:bold;cursor:pointer;transition:all 0.3s ease;font-size:14px}

.update-btn:hover{background:linear-gradient(135deg,#00cc6a 0%,#00aa55 100%);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,255,136,0.4)}

.update-btn:active{transform:translateY(0)}

.last-update{color:#888;font-size:12px;text-align:right}
.title{font-family:"Bebas Neue";font-size:56px;text-align:center;letter-spacing:1.5px;margin:10px 0 16px}
.teams-bar{display:flex;gap:10px;flex-wrap:nowrap;overflow:auto;padding:12px 14px;border:2px solid #2ad3763a;border-radius:18px;background:linear-gradient(145deg,#0e241b,#0b1a14)}
.teams-bar::-webkit-scrollbar{height:8px}.teams-bar::-webkit-scrollbar-thumb{background:#1b372c;border-radius:8px}
.team-pill{width:60px;height:60px;border-radius:50%;flex-shrink:0;background:#fff;display:flex;align-items:center;justify-content:center;border:3px solid #ffffff;box-shadow:0 4px 16px rgba(0,0,0,.25);cursor:grab;position:relative;overflow:hidden}

.team-pill:focus{outline:3px solid var(--accent)}
.grid{max-width:1300px;margin:0 auto;padding:0 14px 18px;display:grid;grid-template-columns:320px 1fr 360px;gap:16px;align-items:start}
.panel{background:linear-gradient(145deg,#0e241b,#0b1a14);border:2px solid #2ad3763a;border-radius:18px;padding:12px}

/* Left boxes */
.box-title{font-weight:800;color:var(--accent);text-align:center;margin:4px 0 10px}
.analysis-rectangle{min-height:86px;border-radius:14px;margin:10px 6px;padding:8px 8px;display:flex;gap:8px;align-items:center;flex-wrap:wrap;background:linear-gradient(145deg,rgba(34,197,94,.12),rgba(34,197,94,.06));border:2px solid rgba(34,197,94,.65);box-shadow:0 0 0 3px rgba(34,197,94,.12) inset;position:relative;justify-content:center}
.analysis-rectangle.yellow{background:linear-gradient(145deg,rgba(234,179,8,.12),rgba(234,179,8,.06));border-color:rgba(234,179,8,.7);box-shadow:0 0 0 3px rgba(234,179,8,.12) inset}
.analysis-rectangle.red{background:linear-gradient(145deg,rgba(239,68,68,.12),rgba(239,68,68,.06));border-color:rgba(239,68,68,.7);box-shadow:0 0 0 3px rgba(239,68,68,.12) inset}

.chip{width:64px;height:64px;aspect-ratio:1/1;border-radius:50%;background:#fff;display:flex;align-items:center;justify-content:center;border:2px solid #ffffff;box-shadow:0 4px 12px rgba(0,0,0,.25);position:relative;margin:2px}
.chip img{width:90%;height:90%;object-fit:contain}
.chip .remove{position:absolute;top:-6px;right:-6px;width:18px;height:18px;background:var(--red);border:2px solid #fff;color:#fff;border-radius:50%;cursor:pointer;opacity:0;transition:opacity .15s;font-size:12px;font-weight:bold;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 6px rgba(0,0,0,0.3);z-index:5}
.chip:hover .remove{opacity:1;transform:scale(1.1)}

/* Field */
.soccer-wrap{border:3px solid rgba(33,195,92,0.4);border-radius:24px;padding:24px;background:linear-gradient(135deg,#0e3b27,#0d2f22);box-shadow:0 12px 40px rgba(0,0,0,0.4),0 0 0 1px rgba(33,195,92,0.1);backdrop-filter:blur(1px)}
.soccer-field{position:relative;width:100%;height:720px;max-width:600px;margin:0 auto;border-radius:20px;overflow:hidden;background:#1a7c54;box-shadow:inset 0 0 60px rgba(0,0,0,0.25),0 4px 20px rgba(0,0,0,0.3);border:2px solid rgba(255,255,255,0.1)}
.field-layer{position:absolute;inset:0;pointer-events:none}
.droptarget{}
.lines .field-border{position:absolute;inset:20px;border:3px solid #ffffff;border-radius:8px;box-shadow:0 0 8px rgba(255,255,255,0.4)}

.penalty{position:absolute;left:50%;transform:translateX(-50%);width:52%;height:100px;border:3px solid #ffffff;box-shadow:0 0 8px rgba(255,255,255,0.4)}
.penalty.top{top:20px}
.penalty.bot{bottom:20px}
.goal-area{position:absolute;left:50%;transform:translateX(-50%);width:22%;height:50px;border:3px solid #ffffff;box-shadow:0 0 8px rgba(255,255,255,0.4)}
.goal-area.top{top:20px}
.goal-area.bot{bottom:20px}
.penalty-spot{position:absolute;left:50%;width:6px;height:6px;background:#ffffff;border-radius:50%;transform:translateX(-50%);box-shadow:0 0 6px rgba(255,255,255,0.6)}
.penalty-spot.top{top:108px}.penalty-spot.bot{bottom:108px}
.tcc-logo{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:360px;height:auto;filter:drop-shadow(0 2px 4px rgba(0,0,0,.45));z-index:1;opacity:0.25}

.badge{position:absolute;transform:translate(-50%,-50%);cursor:grab;z-index:3}
.badge .circle{width:80px;height:80px;border-radius:50%;background:#fff;border:3px solid #ffffff;box-shadow:0 6px 18px rgba(0,0,0,.3);overflow:hidden;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(0,0,0,0.3);position:relative}
.badge .remove{transition:opacity 0.2s ease}
/* Escudos maiores nos badges - v5 for√ßa bruta 2025-01-07 */
div.badge div.circle img, .badge .circle img, img[src*="shields"] {
  width: 100% !important;
  height: 100% !important;
  object-fit: contain !important;
  max-width: 100% !important;
  max-height: 100% !important;
  min-width: 100% !important;
  min-height: 100% !important;
}
.badge .name{position:absolute;top:96px;left:50%;transform:translateX(-50%);padding:4px 8px;background:rgba(9,32,22,.95);border:1px solid rgba(33,195,92,.7);border-radius:10px;font-size:12px;font-weight:800;white-space:nowrap}
.badge .remove{position:absolute;top:-8px;right:-8px;width:20px;height:20px;background:var(--red);border:none;color:#fff;border-radius:50%;cursor:pointer}

.toolbar{display:flex;gap:10px;justify-content:center;margin-top:10px;flex-wrap:wrap}
.pos-btn{background:linear-gradient(135deg,var(--accent),var(--accent2));border:none;color:#fff;padding:10px 16px;border-radius:24px;font-weight:800;cursor:pointer;box-shadow:0 4px 15px rgba(34,197,94,.3)}
.pos-btn:focus{outline:3px solid #89f7c1}


.actions{display:flex;gap:8px;justify-content:center;margin:10px 0}
.btn{background:#0e7b50;border:1px solid #21c35c;color:#fff;padding:8px 12px;border-radius:10px;font-weight:800;cursor:pointer}
.btn-outline{background:#0e231a}
.btn-star{border-color:#eab308;color:#f1c40f;background:#0e231a}

/* Right column */
.webcam-box{height:260px;border:2px solid #21c35c;border-radius:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(16,185,129,.1),rgba(16,185,129,.05))}
.webcam-icon{font-size:64px;color:var(--accent)}

/* Reservas de Luxo - v13 - Layout otimizado e balanceado */
.panel.right .box-title:last-of-type{margin-top:16px;margin-bottom:12px}
.reserves-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:18px 12px;min-height:240px;border:2px solid rgba(34,197,94,0.25);border-radius:14px;background:linear-gradient(135deg,rgba(34,197,94,0.06),rgba(34,197,94,0.03));margin:0 -3px;justify-items:center;align-items:center}
.reserve-slot{width:95px;height:95px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;color:var(--accent);position:relative;background:transparent;cursor:pointer;transition:all 0.3s ease}
.reserve-slot:hover{border-color:var(--accent);background:rgba(34,197,94,0.15);transform:scale(1.05);box-shadow:0 6px 20px rgba(34,197,94,.25)}
.reserve-slot .remove{position:absolute;top:4px;right:4px;width:18px;height:18px;background:var(--red);border:none;color:#fff;border-radius:50%;cursor:pointer;opacity:0;transition:opacity 0.2s}
.reserve-slot:hover .remove{opacity:1}
.slot-item{display:flex;flex-direction:column;align-items:center;gap:6px}
.slot-item .mini{width:65px;height:65px;border-radius:50%;border:2px solid var(--accent);overflow:hidden;box-shadow:0 3px 10px rgba(0,0,0,.25);display:flex;align-items:center;justify-content:center}
.slot-item .mini img{width:100%;height:100%;object-fit:contain}
.slot-item .nm{font-size:11px;font-weight:800;max-width:95px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;color:var(--text);margin-top:4px}

.star-row{display:flex;justify-content:center;margin-top:10px}
.star{position:absolute;width:32px;height:32px;transform:translate(-50%,-50%);cursor:grab;filter:drop-shadow(0 2px 6px rgba(0,0,0,.35));font-size:32px;text-shadow:2px 2px 4px rgba(0,0,0,0.5);transition:transform 0.2s ease;user-select:none;z-index:4}
.star:hover{transform:translate(-50%,-50%) scale(1.1)}
.star:active{cursor:grabbing}
.star .remove,.star-remove{position:absolute;top:-8px;right:-8px;width:20px;height:20px;background:var(--red);border:none;color:#fff;border-radius:50%;cursor:pointer;font-size:12px;display:flex;align-items:center;justify-content:center;line-height:1;transition:opacity 0.2s ease,background 0.2s ease}
.star-remove:hover{background:#ff6666}

/* Drawer */
.drawer{position:fixed;left:0;right:0;bottom:0;background:#0d1a14f2;border-top:3px solid #21c35c88;padding:14px 0;backdrop-filter:saturate(1.2) blur(2px)}
.drawer-inner{max-width:1300px;margin:0 auto;display:flex;gap:14px;align-items:flex-start;padding:0 14px}
.drawer-left{flex:2}
.drawer-right{flex:3;display:flex;flex-direction:column;align-items:flex-end;gap:10px}
.drawer-title{font-weight:800;color:var(--accent);margin-bottom:6px}
.scroll-row{display:flex;gap:10px;overflow:auto;padding:6px 0;max-width:100%}
.search-panel{width:100%}
.search{width:100%;background:#092016;border:1px solid #21c35c77;border-radius:10px;padding:10px 12px;color:#e6f6ea;margin-bottom:8px}
.card{display:flex;flex-direction:column;align-items:center;gap:6px;background:#0e231a;border:1px solid #21c35c3a;padding:8px 10px;border-radius:12px;min-width:160px}

.card .price{font-size:11px;color:#888;margin-top:2px}

/* Mini cards para jogadores selecionados */
.mini-card{display:flex;flex-direction:column;align-items:center;gap:4px;padding:6px;border:1px solid #444;border-radius:8px;background:#222;margin-right:8px;position:relative;min-width:60px;cursor:grab}

.mini-card:active{cursor:grabbing}

.mini-chip{width:64px;height:64px;border-radius:50%;overflow:hidden;border:2px solid #555;background:#333}

.mini-chip img{width:100%;height:100%;object-fit:cover}

.mini-name{font-size:10px;color:#fff;text-align:center;line-height:1.2;max-width:50px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

.btn-remove{position:absolute;top:-4px;right:-4px;width:16px;height:16px;border-radius:50%;background:#ff4444;color:white;border:none;font-size:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;line-height:1}

.btn-remove:hover{background:#ff6666}

/* Modal para busca de reservas */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background: #1a1a1a;
  border: 1px solid #333;
  border-radius: 8px;
  width: 90%;
  max-width: 500px;
  max-height: 80vh;
  overflow: hidden;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
  border-bottom: 1px solid #333;
}

.modal-header h3 {
  margin: 0;
  color: #fff;
  font-size: 16px;
}

.modal-close {
  background: none;
  border: none;
  color: #fff;
  font-size: 20px;
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-close:hover {
  color: #ff4444;
}

.modal-body {
  padding: 16px;
  max-height: 60vh;
  overflow-y: auto;
}

.results-container {
  max-height: 400px;
  overflow-y: auto;
  margin-top: 8px;
}
.card .chip{display:flex;align-items:center;gap:10px;background:#104a2f;border:2px solid #21c35c;border-radius:16px;padding:6px 8px}
.kit{width:80px;height:80px;aspect-ratio:1/1;border-radius:50%;background:#fff;overflow:hidden;display:flex;align-items:center;justify-content:center;border:2px solid #21c35c88}
.kit img{width:100%;height:100%;object-fit:contain}
.meta{display:flex;flex-direction:column}.nm{font-weight:800;white-space:nowrap}.sb{font-size:12px;color:#c8ecd8}
.btn-mini{background:#0e7b50;border:1px solid #21c35c;color:#fff;padding:6px 10px;border-radius:10px;font-weight:700;cursor:pointer;font-size:12px}
.adder-wrap{display:flex;justify-content:flex-end;align-items:center;gap:10px}


/* Responsive */
@media (max-width: 1200px){
  .grid{grid-template-columns: 1fr;gap:16px}
}
@media (max-width: 768px){
  .soccer-field{height:450px;max-width:100%}
  .soccer-wrap{padding:12px}
}
@media (max-width: 480px){
  .soccer-field{height:380px}
  .soccer-wrap{padding:8px}
  .center-circle{width:80px;height:80px}
  .penalty{height:80px;width:50%}
  .goal-area{height:40px;width:20%}
}


.penalty.top{top:24px;border-top:none;}
.penalty.bot{bottom:24px;border-bottom:none;}
.goal-area.top{top:24px;border-top:none;}
.goal-area.bot{bottom:24px;border-bottom:none;}


.legend-inline{display:flex;justify-content:center;gap:10px;align-items:center;margin-top:6px;flex-wrap:wrap;}

.legend-inline-item{display:flex;align-items:center;gap:8px;font-weight:700;color:#d6f5e6;font-size:12px;white-space:nowrap;}
.legend-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.legend-dot.g{background:#22c55e}
.legend-dot.y{background:#eab308}
.legend-dot.r{background:#ef4444}


/* --- Hardening header shields --- */
.teams-bar{display:flex;align-items:center;gap:10px;overflow:auto;padding:12px 14px;border:2px solid #2ad3763a;border-radius:18px;background:linear-gradient(145deg,#0e241b,#0b1a14)}
.team-pill{
  width:60px;height:60px;aspect-ratio:1/1;flex:0 0 auto;
  border-radius:50%; background:#fff; border:3px solid #fff;
  display:inline-flex; align-items:center; justify-content:center;
  box-shadow:0 4px 16px rgba(0,0,0,.25); cursor:grab; position:relative; overflow:hidden;
}

/* Fallback: caso alguma imagem seja inserida diretamente na barra */
.teams-bar > img{width:60px;height:60px;border-radius:50%;border:3px solid #fff;box-shadow:0 4px 16px rgba(0,0,0,.25);background:#fff}



/* --- Header shields ajustes v6 --- */
.team-pill{
  width:60px;height:60px;aspect-ratio:1/1;flex:0 0 auto;
  border-radius:50%; background:#fff; border:2px solid #fff;
  display:inline-flex; align-items:center; justify-content:center;
  box-shadow:0 3px 10px rgba(0,0,0,.25); cursor:grab; position:relative; overflow:hidden;
}
.team-pill img{width:75%;height:75%;object-fit:contain;display:block}



/* --- Reservas de luxo ajustes v13 - Layout otimizado e balanceado --- */
.reserve-slot{
width:95px;height:95px;border:2px solid transparent;border-radius:50%;
background:transparent;
display:flex;align-items:center;justify-content:center;
cursor:pointer;transition:all 0.3s ease;
}

.reserve-slot img{max-width:85%;max-height:85%;object-fit:contain;border-radius:50%;}
.reserve-slot.drag-over{border-color:var(--accent);background:rgba(34,197,94,0.2);transform:scale(1.1);box-shadow:0 8px 25px rgba(34,197,94,.35);}

